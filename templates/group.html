{% extends "layout.html" %}

{% block title %}
    Groups
{% endblock %}

{% block main %}
		<h2>Join or Create a Group</h2>
		<p>Enter the Group ID and password to join an existing group, or create a new group for your next adventure.</p>
		<form >
			<fieldset>
				<legend>Join a group</legend>
				<label for="group-id">Group ID</label>
				<input type="text" id="group-id" name="group-id">
				<label for="password">Password</label>
				<input type="password" id="password" name="password">
				<button type="submit" onclick="joinGroup()">Join Group</button>
			</fieldset>
		</form>
		<hr>
		<form action="/group" method="post">
			<fieldset>
				<legend>Create a new group</legend>
				<input type="hidden" name="user_id" value="{{ user_id }}">
				<label for="group-name">Group Name</label>
				<input type="text" id="group-name" name="group-name" required>
				<label for="group-password">Group Password</label>
				<input type="password" id="group-password" name="group-password" required>
				<button type="submit" onclick="createGroup()">Create Group</button>
			</fieldset>
		</form>
		<p>Or share the group link:</p>
		<div class="group-link">
			<input type="text" id="link" value="https://example.com/group?id=12345">
			<button type="submit" onclick="copyLink()">Copy Link</button>
		</div>
		
		<h2>My Groups</h2>
		<section id="groups">
			<img src="{{ url_for('static', filename='images/kl.jpg') }}" alt="Group 2">
			<h3>Group Name</h3>
			<p>Description of the group and the trip. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</pContinued:

			<div class="group-info">
				<p><strong>Destination:</strong> Destination Name</p>
				<p><strong>Date:</strong> June 1, 2023 - June 15, 2023</p>
				<p><strong>Price:</strong> $2000 per person</p>
				<button type="submit"><a href="/sample" style="color : white">Check it out</a></button>
			</div>
			<hr>
			<img src="{{ url_for('static', filename='images/kl.jpg') }}" alt="Group 2">
			<h3>Group Name</h3>
			<p>Description of the group and the trip. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
			<div class="group-info">
				<p><strong>Destination:</strong> Destination Name</p>
				<p><strong>Date:</strong> June 1, 2023 - June 15, 2023</p>
				<p><strong>Price:</strong> $2000 per person</p>
				<button type="submit" onclick="joinGroup(67890)">Check it out</button>
			</div>
		</section>

	<script>
		function joinGroup() {
            var groupId = document.getElementById("group-id").value;
			var password = document.getElementById("password").value;
			// TODO: Implement logic to join the group with the given ID and password
			alert(`Leggo!`);
		}

		function createGroup() {
			var groupName = document.getElementById("group-name").value;
			var groupPassword = document.getElementById("group-password").value;
			// TODO: Implement logic to create a new group with the given information
			alert(`Group "${groupName}" created successfully!`);
		}

		function copyLink() {
			var link = document.getElementById("link");
			link.select();
			link.setSelectionRange(0, 99999);
			document.execCommand("copy");
			alert("Link copied to clipboard!");
		}
	</script>
{% endblock %}